document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".preloader");function t(e,t,n,o,i=100){let s=n,l=(o-n)/10,r=setInterval((function(){if(Math.abs(s-o)<=Math.abs(l))return clearInterval(r),s=o,void e.style.setProperty(t,s+"px");s+=l,e.style.setProperty(t,s+"px")}),50)}setTimeout((()=>e.classList.add("preloader_hidden")),2e3),function(e){const t=new Image;t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",t.onload=t.onerror=function(){2===t.height?e.classList.add("webp"):e.classList.add("nowebp")}}(document.body),document.querySelector(".courses__list")?.addEventListener("click",(function(e){console.log(e.target);const n="course_active";let o=e.target;if(o.classList.contains("course__header")){let e=o.parentElement,i=e?.querySelector(".course__content")?.querySelector(".course__list").offsetHeight;e.classList.contains(n)?t(e?.querySelector(".course__content"),"height",i,0,1e3):t(e?.querySelector(".course__content"),"height",0,i,1e3),e?.classList.toggle(n)}}));new Swiper(".ads__swiper",{slidesPerView:1,spaceBetween:35,breakpoints:{600:{slidesPerView:3,spaceBetween:20}},navigation:{nextEl:".ads__swiper-button-next",prevEl:".ads__swiper-button-prev"},on:{init:function(e){console.dir(e),n(e)},slideChange:function(e){console.dir(e.activeIndex),n(e)}}});function n(e){const{slides:t,activeIndex:n}=e,{slidesPerView:o}=e.params,i=n+o-1;for(let e=0;e<t.length;e++)t[e].classList.remove("swiper-slide_blur"),(e<n||e>i)&&t[e].classList.add("swiper-slide_blur")}document.querySelector(".first__down").onclick=function(){window.scrollTo({top:1040,behavior:"smooth"})};let o=document.querySelector(".footer__button-top");function i(e){"lock"==e?(document.body.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.body.style.overflowY="hidden"):(document.body.style.paddingRight="0px",document.body.style.overflowY="visible")}o.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})},document.addEventListener("scroll",(e=>{let t=window.pageYOffset;o.style.visibility=t>=1040?"visible":"hidden"})),document.addEventListener("click",(function(e){let t=e.target;"DIV"==t.tagName&&t.classList.contains("big-button")&&(document.querySelector("#popupSignUp").classList.add("popup_open"),i("lock"));(t.classList.contains("popup__close")||t.classList.contains("popup")||t.classList.contains("popup__container"))&&(document.querySelector("#frmSignUp").reset(),document.querySelectorAll(".field__input_error").forEach((function(e){e.classList.remove("field__input_error");let t=e.closest(".form__item").querySelector(".field__hint");t.innerHTML="",t.classList.remove("field__hint_error")})),document.querySelector("#popupSignUp").classList.remove("popup_open"),i("unlock"))})),document.addEventListener("keydown",(function(e){"Escape"==e.code&&(elem=document.querySelector(".intro-webinar_open"),elem&&elem.classList.remove("intro-webinar_open"))}));let s=document.querySelector("#frmSignUp");s?.addEventListener("submit",(async function(e){e.preventDefault();let t=e.target,n=0;for(let e=0;e<t.elements.length;e++)"submit"!=t.elements[e].type&&(n+=c(null,t.elements[e]),console.log(`Проверка id: ${t.elements[e].id}, всего ошибок: ${n}`));n?alert("Не все поля заполнены"):(alert("Отправка формы"),t.closest(".popup").classList.remove("popup_open"),t.reset(),i("unlock"))}));let l=s?.elements;for(let e=0;e<l.length;e++)if("submit"!=l[e].type){switch(l[e].id){case"text":l[e].oninput=a;break;case"tel":l[e].oninput=d}l[e].onfocus=r,l[e].onblur=c}function r(e){let t=e.target,n="";switch(t.id){case"name":n="Введите свои Фамилию Имя Отчество";break;case"tel":n="Введите номер Вашего телефона";break;case"email":n="Введите адрес Вашей электронной почты";break;case"date-time":n="Выберите дату и время вебинара"}t.closest(".form__item").querySelector(".field__hint").innerHTML=n,t.classList.remove("field__input_error"),t.closest(".form__item").querySelector(".field__hint").classList.remove("field__hint_error")}function c(e,t){let n=e?.target||t,o=!1;switch(n.id){case"name":case"date-time":n.value||(o=!0);break;case"tel":-1==n.value.indexOf(n.dataset.char)&&n.value||(o=!0);break;case"email":/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu.test(n.value)||(o=!0)}return o?(n.classList.add("field__input_error"),n.closest(".form__item").querySelector(".field__hint").classList.add("field__hint_error")):n.closest(".form__item").querySelector(".field__hint").innerHTML="",o}function a(e){e.target.value=e.target.value.replace(/([^а-яёa-z'\s])/gi,"")}function d(e){let t=e.target,n=t.dataset.mask,o=t.dataset.char,i=t.selectionStart;t.value=function(e,t,n){if(!e.length)return t;if(!t.length||!n)return e;let o="";for(let i=0;i<e.length;i++)o=t.replace(n,e[i]),t=o;return o}(t.value.replace(/[^\d]/g,""),n,o),"insertText"!=e.inputType&&"insertFromPaste"!=e.inputType||(i=t.value.indexOf("_"),t.selectionStart=-1!=i?i:n.length),"deleteContentBackward"!=e.inputType&&"deleteContentForward"!=e.inputType||(t.selectionStart=i),t.selectionEnd=e.target.selectionStart}let u=document.querySelectorAll("._anim-item");function p(){for(let e=0;e<u.length;e++){let t=u[e],n=t.offsetHeight,o=m(t).top;const i=2;let s=window.innerHeight-n/i;n>window.innerHeight&&(s=window.innerHeight-window.innerHeight/i),t.classList.contains("author__photo")&&(console.log(n),console.log(`window.innerHeight: ${window.innerHeight}`),console.log(`animItemPoint: ${s}`)),scrollY>o-s&&scrollY<o+n?t.classList.add("_anim-active"):t.classList.contains("_anim-no-repeat")||t.classList.remove("_anim-active")}}function m(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}u.length>0&&(window.addEventListener("scroll",p),setTimeout((()=>{p()}),100))}));